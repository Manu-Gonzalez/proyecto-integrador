numErrorOper;const u=e.mathpack.lfix(n),d=s.fromNum(a,n,r.Rounding.RoundSec);if(!1===d)return r.numErrorOper;if(l>u)return r.numErrorOper;let h=d.dom,g=d.mon,m=d.yr;c.dom>h&&(g-=1,0===g&&(g=12,m-=1),h+=s.daysPerMonth(g,m,a.dateCompatibility)),c.mon>g&&(g+=12,m-=1);const p=(e,t)=>0===a.localeInfo.stringCompareCI(e,t);if(p(i,"Y"))return o.fromNumber(m-c.yr);if(p(i,"M"))return o.fromNumber(12*(m-c.yr)+(g-c.mon));if(p(i,"D"))return o.fromNumber(u-l);if(p(i,"MD"))return o.fromNumber(h-c.dom);if(p(i,"YM"))return o.fromNumber(g-c.mon);if(p(i,"YD")){let e=0;for(let t=c.mon;t<g;t+=1)e+=s.daysPerMonth(t,c.yr,a.dateCompatibility);return o.fromNumber(e+(h-c.dom))}return r.numErrorOper},t.days=function(e,[t,n]){if((0,r.isStringOper)(t)&&t.value.length>255||(0,r.isStringOper)(n)&&n.value.length>255)return r.valueErrorOper;const i=v(e,t);if((0,r.isErrorOper)(i))return i;const o=v(e,n);return(0,r.isErrorOper)(o)?o:e.mathpack.sub(i,o)},t.workday_intl=w,t.workday=function(e,[t,n,i]){return w(e,i?[t,n,r.missingOper,i]:[t,n])},t.networkdays_intl=N,t.networkdays=function(e,[t,n,i]){return N(e,i?[t,n,r.missingOper,i]:[t,n])},t.yearFrac=function(e,[t,n,i]){let s=A.DefaultBasis;if(void 0!==i){const t=function(e,t){let n=A.DefaultBasis;if(void 0===t||(0,r.isMissingOper)(t))return n;const i=(0,o.chkNumOper)(e,t);if((0,r.isErrorOper)(i))return i;const s=e.mathpack;switch(n=s.lfix(s.floor(i)),n){case A.Basis30360:case A.BasisActual:case A.BasisActual360:case A.BasisActual365:case A.BasisE30360:return n;default:return r.numErrorOper}}(e,i);if("number"!=typeof t)return t;s=t}let a=(0,o.chkDateOper)(e,t);if((0,r.isErrorOper)(a))return a;let l=(0,o.chkDateOper)(e,n);if((0,r.isErrorOper)(l))return l;const c=e.mathpack;if(c.cond2(a,l)>0){const e=a;a=l,l=e}const u=function(e,t,n,i,s){const a=e.mathpack;switch(a.cond2(t,n)){case 1:break;case 0:return a.zero;case-1:switch(i){case A.Basis30360:return function(e,t,n,i,o){const{datepack:s,config:a}=e,l=s.fromNum(a,t,r.Rounding.RoundSec);if(!1===l)return!1;let c=l.dom;const u=l.mon,d=l.yr,h=s.fromNum(a,n,r.Rounding.RoundSec);if(!1===h)return!1;let g=h.dom;const m=h.mon,p=h.yr;return 2===g&&I(e,g,m,p)&&2===c&&I(e,c,u,d)&&(g=30),31===g&&c>=30&&(g=30),31===c&&(c=30),2===u&&I(e,c,u,d)&&(c=30),T(e,d,p,u,m,c,g)}(e,t,n);case A.BasisActual360:case A.BasisActual365:case A.BasisActual:return(0,o.assertNumber)(a.sub(n,t));case A.BasisE30360:return function(e,t,n){const{datepack:i,config:o}=e,s=i.fromNum(o,t,r.Rounding.RoundSec);if(!1===s)return!1;let a=s.dom;const l=s.mon,c=s.yr,u=i.fromNum(o,n,r.Rounding.RoundSec);if(!1===u)return!1;let d=u.dom;const h=u.mon;return 31===a&&(a=30),31===d&&(d=30),T(e,c,u.yr,l,h,a,d)}(e,t,n)}}return!1}(e,a,l,s);if(!1===u)return r.numErrorOper;const d=function(e,t,n,i){const{mathpack:s,datepack:a,config:l}=e,c=s.fromNumber(360),u=s.fromNumber(365),d=s.fromNumber(366);switch(t){case A.BasisActual:const e=a.fromNum(l,n,r.Rounding.RoundSec);if(!1===e)return!1;const t=e.dom,h=e.mon,g=e.yr,m=a.fromNum(l,i,r.Rounding.RoundSec);if(!1===m)return!1;const p=m.dom,f=m.mon,v=m.yr,b=v-1;if(g===v)return 29===a.daysPerMonth(2,g,l.dateCompatibility)?d:u;if(b===g&&(h>f||h===f&&t>=p)){if(29===a.daysPerMonth(2,g,l.dateCompatibility)){const e=a.toNum(l,(0,r.dateTime)(g,2,29,0,0,0,0,0,r.Rounding.RoundSec));return!(0,r.isErrorOper)(e)&&(s.cond2(e,n)>=0?d:u)}if(29===a.daysPerMonth(2,v,l.dateCompati